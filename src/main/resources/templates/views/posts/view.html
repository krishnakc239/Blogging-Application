<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{views/common/masterlayout}">
<html lang="en">
<head>
    <title th:text="${post.title}">View Post</title>
</head>
<body>
<th:block layout:fragment="content">
    <div class="page-content">
        <div class="col-md-10 col-md-offset-2">

            <form th:action="@{/posts/setStatus/{id}(id=${post.id})}">

                <main id="posts">
                    <article>
                        <h2 class="title" th:text="${post.title}">Post Title</h2>
                        <div class="date">
                            <i>Posted on</i>
                            <span th:text="${#dates.format(post.createDate, 'dd-MMM-yyyy')}">22-May-2016</span>
                            <span th:if="${post.user}" th:remove="tag">
		    	<i>by</i>
		        <span th:text="${post.user.firstName != null ? post.user.firstName : post.user.username}">Svetlin Nakov</span>
		    </span>
                        </div>
                        <div><img class="img-responsive" th:src="@{${'/uploads/images/'+post.coverImage}}"/></div>
                        <p class="content" th:utext="${post.body}">Post content</p>
                    </article>
                    <div class="form-group clearfix" sec:authorize="hasAuthority('ROLE_ADMIN')">
                        <button type="submit" th:classappend="${post.status}? 'invisible': 'btn btn-info'">Publish
                        </button>
                    </div>
                </main>
            </form>
            <div class="row">
                <div class="col-sm-4">
                    <form th:action="@{/post/review}">
                        <span class="fa fa-star" th:value="1"/>
                        <span class="fa fa-star" th:value="2"/>
                        <span class="fa fa-star" th:value="3"/>
                        <span class="fa fa-star" th:value="4"/>
                        <span class="fa fa-star" th:value="5"/>
                        <button type="button" class="btn btn-success">Submit</button>
                    </form>
                </div>

                <div class="col-sm-6">
                    <form accept-charset="UTF-8" th:action="@{/saveComment}" method="POST">
                        <span class="fa fa-commenting" id="showComment" onclick="showCommentBox()"></span>
                        <div id="textArea" style="display: none">
                    <textarea id="textField" class="form-control" name="text" placeholder="Type in your comment"
                              rows="5"></textarea>
                            <h6 class="pull-right" id="count_message"></h6>
                            <button id="commentSubmit" onclick="enterComment()" class="btn btn-info" type="submit">
                                comment
                            </button>
                        </div>

                    </form>
                </div>
            </div>

        </div>
    </div>


</th:block>
</body>

</html>